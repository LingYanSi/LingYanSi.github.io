<!DOCTYPE html>
<html lang="en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <link rel="stylesheet" href="css/reset.css">
  <link rel="shortcut icon" href="" />
  <title></title>
  <style type="text/css">
	  .main{padding-top:0;background:rgb(239,239,239);height:500px;}
	  
	  .item{background:yellow}
  </style>
 </head>
 <body>
	<div id="wrap" class="wrap">
		<div id="main" class="main">
			<div class="item">fdgsdfgsdgsdfg</div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
		</div>
	</div>
 <script type="text/javascript">
	 (function() {
    /*
     * 创建一个私有class
     * @param {Object} els  arguments 所有参数组成的类数组
     */
    function _$(els) {
        this.elements = [];             //存放HTML元素
        for(var i=0, len=els.length; i<len; i++) {
            var element = els[i];
            if(typeof element === 'string') {
                element = document.getElementsByClassName(element);
            }
            this.elements.push(element);
        }
    }
    //对HTML元素可执行的操作
    _$.prototype = {
        each: function(fn) {        //fn 回调函数
            for(var i=0; i<this.elements.length; i++) {
                //执行len次，每次把一个元素elements[i]作为参数传递过去
				for (var j=0;j<this.elements[i].length ;j++ )
				{
					fn.call(this, this.elements[i][j]);
				}
            }
            return this;
        },
		eq: function(index){
			var obj;
			this.each(function(el){
				obj = el[index];
			});
			return new _$(obj);
		},
		length: function(){
			var obj;
			this.each(function(el){
				obj = el.length;
				console.log()
			});
			return obj
		},
        css: function(prop, value) {
			var prop ,value ;
            if (typeof arguments[0] === 'object')
			{
				for (x in arguments[0] )
				{
					value = arguments[0][x];
					prop = x ;
					this.each(function(el) {
						el.style[prop] = value;
					});
				}
			}else{
				prop = arguments[0];
				value = arguments[1];
				this.each(function(el) {
					el.style[prop] = value;
				});
			}
            return this;
        },
        show: function() {
            var that = this;
            this.each(function(el) {
                that.setStyle('display', 'block');
            });
            return this;
        },
        addEvent: function(type, fn) {
            var addHandle = function(el) {
                if(document.addEventListener) {
                    el.addEventListener(type, fn, false);
                }else if(document.attachEvent) {
                    el.attachEvent('on'+type, fn);
                }
            };
            this.each(function(el) {
                addHandle(el);
            });
            return this;  
        }
    };
    //对外开放的接口
    window.$ = function() {
        return new _$(arguments);
    }

})();
//----------------------- test --------
//$('item').css({'background':'rgb(247,104,104)'})
document.querySelectorAll('.item')[0].style.background = "rgb(247,104,104)"
 </script>
 </body>
</html>
