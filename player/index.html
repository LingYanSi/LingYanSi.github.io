<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <link rel="shortcut icon" href="http://lingyansi.github.io/images/icon/icon.jpg">
  <title>我的音乐</title>
  <style type="text/css">
  	  html,body,div,form,ul,ol,li,img,p,h1,h2,h3,h4,h5,h6{margin:0;padding:0;border:0;}
	  html{ font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; }
	  body{ background-color:rgba(224,243,248,1); }
	  .wrap{ max-width:1000px; margin:0 auto;}
	  .title{ line-height:3; border-bottom:1px dashed rgb(120,120,120);}
	  .main li{ height:50px; line-height:50px; cursor:pointer; list-style:decimal inside ; border-bottom:1px dashed rgb(210,210,210); }
	  a{ display:block; height:100%; text-decoration:none; color:rgb(0,0,0); }
	  a:hover{ background-image:linear-gradient(-90deg,rgba(0,255,255,0.5),rgba(247,105,105,1)); color:rgb(255,255,255); }
  </style>
 </head>
 <body>
	<div id="wrap" class="wrap">
		<div id="main" class="main">
			<h2 class="title">List</h2>
			<ul id="music-list" class="">
			</ul>
		</div>
	</div>
 <script src="js/jquery-2.1.1.min.js"></script>
 <script src="js/util.js"></script>
 <script type="text/javascript">
		window.onload = function(){

			$('ul').html(listArr.map(function(ele,index){
				return '<li data-id="'+ele.id+'">' +
							'<a href="player.html" target="xiami" target="_blank">'+ele.songName[0].name+' —— '+ele.singer[0].name+'</a>' +
						'</li>';
			}).join(''));

			$('li').on('click',function(event){
				var id = $(this)[0].getAttribute('data-id');
				id = parseInt(id) ;
				if (!!id)
				{
					localStorage.setItem('currentId',id);
					console.log(localStorage['currentId']);

					var oldTime = parseInt(localStorage['playerTime'],10);
					var nowTime = new Date().getTime();
					if (localStorage.isPlayerOpen == 'true')
					{
						event.preventDefault();
					}
				}
			})
		}
 </script>
 </body>
</html>
