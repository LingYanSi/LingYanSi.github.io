<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <style media="screen">
            #father{
                height: 200px; width: 500px; background: pink;
            }
        </style>
    </head>
    <body>
        <h1 draggable="true">是大纲是大法官</h1>
        <div id="father">
            <form action="" type="post">
                <input type="file" multiple>
            </form>
        </div>
        <div id="scan"></div>

        <div id="ss">
            <div class="qq">
                <h1>
                    <span>sdfsdsdf</span>
                    不懂啊
                </h1>
                撒旦法撒旦公司的风格
            </div>
        </div>

        <script src="./build/pubsub.js" charset="utf-8"></script>
        <script src="./library/jquery-2.1.4.min.js" charset="utf-8"></script>
        <script type="text/javascript">

        $('#ss').on('click','span',function(e){
            alert(1)
        })
        $('#ss').on('click','h1', function(){
            return false
        })
        $('#ss').on('click','.qq', function(){
            alert(22222)
        })


        window.oncontextmenu = function (event) {
            // 右键弹出
            event.preventDefault();
            // 做一些其他事情
        }

        $ = function(selector){
            return document.querySelector(selector)
        }

        var $dag = $('h1')
        // 被拖拽元素
        $dag.addEventListener('dragstart', function(e){
            console.log('dragstart拖拽开始',e)
        })
        $dag.addEventListener('drag', function(e){
            // console.log(e)
        })
        $dag.addEventListener('dragend', function(e){
            console.log('dragend拖拽结束', e)
        })

        var $father = $('#father')
        // 目标元素，可用于文件拖拽上传
        // XMLHttpRequest支持发送bob/file,也可以把url放到input中
        $father.addEventListener('dragenter', function(e){
            e.preventDefault()
            console.log('dragenter进来了', e)
        })

        $father.addEventListener('dragover', function(e){
            e.preventDefault()
            // console.log('全部进来了', e)
        })
        $father.addEventListener('dragleave', function(e){
            e.preventDefault()
            console.log('dragleave又出去了', e)
        })
        $father.addEventListener('drop', function(e){
            e.preventDefault()
            console.log('drop放在里面了', e)
            var files = e.dataTransfer.files ; // files是一个wei数组
            $('#scan').innerHTML = [].slice.call(files).map( function(item){
                return `<img src="${URL.createObjectURL(item)}" alt="" />`
            }).join(' ')

            $('input').files = e.dataTransfer.files
        })

        $('input').addEventListener('change', function(e){
            console.log(e.value,e.target.files)
        })

        </script>
    </body>
</html>
