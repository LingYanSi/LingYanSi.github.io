## 模板解析
[参考文章：前端模板的原理与实现](https://segmentfault.com/a/1190000006990480)

我们一般这样使用模板
```
parser(template, data)
```
数据源 + 字符串模板 =》可用的html字符串

只是单纯的替换变量为值，局限性非常大，因为列表的需求是很大的，因此我们需要引入遍历机制
有两种手段
- 在标签中写属性，如: ng-each
- 引入可执行js语句

当然第二种的灵活性更强

### 切分
```js
`<div class="child">我是子组件 <% $num %> <% @name %></div>
`
```
从上面的字符串我们可以将其分割为
- 被<% %>包裹的 : 可执行js
- 不被<% %>包裹的 : html片段
我们称 ***<%*** 为 ***OPEN_TAG*** ***%>*** 为 ***CLOSE_TAG***

来思考一个问题，一个字符串模板意味这什么，这种划分的意义是什么
可执行js，会返回可用的字符串，也可能给html片段进行操作，看下面这段代码

```js
<% for(var i=0; i< 10; i++ ){%>
    <div>title</div>
<% } %>
```

我们希望最后得到的是重复100边的div代码，如何办呢

```js
var str = ''
for(var i=0; i< 10; i++ ){
    str += '<div>title</div>'
}
```
好了，我们把字符串转换成上面的代码了，如何执行js字符串呢？
- eval : 自由度高，但可能会污染群全局变量
- new Function : 安全

待续。。。。
